<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shkipedryakhi.money</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Bubbles&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            touch-action: manipulation;
        }

        body {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            font-family: 'Rubik Bubbles', cursive;
            margin: 0;
            padding: 10px;
            min-height: 100vh;
        }

        header {
            background: rgba(255,255,255,0.9);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(255,107,107,0.3);
        }

        .games {
            display: grid;
            gap: 15px;
        }

        .game-card {
            background: rgba(255,255,255,0.85);
            border-radius: 25px;
            padding: 20px;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        /* –°–ª–æ—Ç—ã */
        .slots-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }

        .slot {
            background: #fff;
            border-radius: 15px;
            padding: 20px;
            font-size: 40px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        /* Mines */
        #minesGrid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
            margin: 15px 0;
        }

        .mine-cell {
            aspect-ratio: 1;
            background: #4baea0;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: 0.2s;
        }

        .mine-cell.revealed {
            background: #ff6b6b !important;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
        }

        .modal-content {
            background: #fff;
            padding: 20px;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            margin: 20px auto;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 15px;
            font-family: inherit;
            font-size: 16px;
            cursor: pointer;
            transition: 0.2s;
            width: 100%;
        }

        button:active {
            transform: scale(0.95);
        }

        @media (max-width: 600px) {
            .slot {
                font-size: 30px;
                padding: 15px;
            }
            
            button {
                padding: 12px;
                font-size: 14px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .game-card {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üé∞ SHKIPEDRYAKHI MANAGMENTüí£</h1>
        <div class="wallet">
            <p>üí∞ ≈†KP: <span id="coins">1000</span></p>
            <div class="money-buttons">
                <button onclick="deposit()">+50 ≈†KP</button>
                <button onclick="blockedWithdraw()" class="blocked">üö´ –í—ã–≤–æ–¥</button>
            </div>
        </div>
    </header>

    <div class="games">
        <!-- –°–ª–æ—Ç—ã -->
        <div class="game-card slots-card">
            <h2>üé™ –°–õ–û–¢–´ x3</h2>
            <div class="slots-grid">
                <div class="slot" id="slot1">üé∞</div>
                <div class="slot" id="slot2">üé∞</div>
                <div class="slot" id="slot3">üé∞</div>
            </div>
            <button class="action-btn" onclick="playSlots()">–ö—Ä—É—Ç–∏—Ç—å (10 ≈†KP)</button>
        </div>

        <!-- Mines -->
        <div class="game-card mines-card">
            <h2>üí£ MINES</h2>
            <select id="minesCount" class="mines-select">
                <option value="3">3 –º–∏–Ω—ã</option>
                <option value="5">5 –º–∏–Ω</option>
                <option value="7" selected>7 –º–∏–Ω</option>
            </select>
            <button class="action-btn" onclick="startMinesGame()">–°—Ç–∞—Ä—Ç (50 ≈†KP)</button>
        </div>

        <!-- –ë–ª—ç–∫–¥–∂–µ–∫ -->
        <div class="game-card bj-card">
            <h2>üÉè –ë–õ–≠–ö–î–ñ–ï–ö</h2>
            <div class="bj-controls">
                <button class="bj-btn" onclick="startBlackjack()">–ù–∞—á–∞—Ç—å (30 ≈†KP)</button>
                <button class="bj-btn" onclick="bjHit()">üó° –í–∑—è—Ç—å</button>
                <button class="bj-btn" onclick="bjStand()">üõë –°—Ç–æ–ø</button>
            </div>
            <div id="bjDealer">–î–∏–ª–µ—Ä: ?</div>
            <div id="bjPlayer">–í—ã: ?</div>
            <div id="bjResult"></div>
        </div>
    </div>

    <!-- Mines –ú–æ–¥–∞–ª–∫–∞ -->
    <div id="minesModal" class="modal">
        <div class="modal-content">
            <h2>üí£ MINES ü§ë</h2>
            <div id="minesGrid"></div>
            <p id="minesMultiplier">–ú–Ω–æ–∂–∏—Ç–µ–ª—å: x1.00</p>
            <button onclick="cashoutMines()">–ó–∞–±—Ä–∞—Ç—å</button>
            <button onclick="closeMines()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script>
        let coins = 1000;
        let minesGame = {
            active: false,
            bet: 0,
            multiplier: 1,
            openedCells: 0,
            minesCount: 3
        };

        // –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function updateCoins() {
            document.getElementById('coins').textContent = coins;
        }

        function deposit() {
            coins += 50;
            updateCoins();
            alert("+50 ≈†KP! üéâ");
        }

        function blockedWithdraw() {
            alert("üö´ –í—ã–≤–æ–¥ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω!");
        }

        // ================ –°–õ–û–¢–´ ================
        function playSlots() {
            const bet = 10;
            if (coins < bet) {
                alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ≈†KP!");
                return;
            }
            coins -= bet;
            
            const slots = ['üçí', 'üíé', 'üé∞', 'üçÄ', '‚≠ê'];
            const results = [
                slots[Math.floor(Math.random() * slots.length)],
                slots[Math.floor(Math.random() * slots.length)],
                slots[Math.floor(Math.random() * slots.length)]
            ];

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ—Ç–æ–≤
            document.getElementById('slot1').textContent = results[0];
            document.getElementById('slot2').textContent = results[1];
            document.getElementById('slot3').textContent = results[2];

            // –í—ã–ø–ª–∞—Ç—ã
            const unique = new Set(results).size;
            if (unique === 1) {
                coins += 10 * 20 * 0.98;
                alert("–î–∂–µ–∫–ø–æ—Ç! x20 üéâ");
            } else if (unique === 2) {
                coins += 10 * 5 * 0.98;
                alert("–ü–æ–±–µ–¥–∞! x5 üí∞");
            }
            updateCoins();
        }

        // ================ MINES ================
        function startMinesGame() {
            const bet = 50;
            if (coins < bet) {
                alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ≈†KP!");
                return;
            }
            
            coins -= bet;
            updateCoins();
            
            minesGame = {
                active: true,
                bet: bet,
                multiplier: 1,
                openedCells: 0,
                minesCount: parseInt(document.getElementById('minesCount').value),
                grid: Array(25).fill(false)
            };

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω
            for(let i = 0; i < minesGame.minesCount; i++) {
                let randomIndex;
                do {
                    randomIndex = Math.floor(Math.random() * 25);
                } while(minesGame.grid[randomIndex]);
                minesGame.grid[randomIndex] = true;
            }

            document.getElementById('minesModal').style.display = 'block';
            renderMinesGrid();
        }

        function renderMinesGrid() {
            const grid = document.getElementById('minesGrid');
            grid.innerHTML = '';
            
            for(let i = 0; i < 25; i++) {
                const cell = document.createElement('div');
                cell.className = 'mine-cell';
                cell.onclick = () => handleMineClick(i);
                cell.textContent = '?';
                grid.appendChild(cell);
            }
        }

        function handleMineClick(index) {
            if(!minesGame.active) return;
            
            const cell = document.getElementsByClassName('mine-cell')[index];
            if(minesGame.grid[index]) {
                // –ú–∏–Ω–∞
                minesGame.active = false;
                cell.textContent = 'üí£';
                cell.style.background = '#ff4444';
                alert(`BOOM! –ü—Ä–æ–∏–≥—Ä—ã—à ${minesGame.bet} ≈†KP`);
                closeMines();
            } else {
                // –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–ª–µ—Ç–∫–∞
                minesGame.openedCells++;
                cell.textContent = 'üí∞';
                cell.style.background = '#4CAF50';
                cell.onclick = null;
                minesGame.multiplier = 1 + (minesGame.minesCount / (25 - minesGame.openedCells)) * 2;
                document.getElementById('minesMultiplier').textContent = 
                    `–ú–Ω–æ–∂–∏—Ç–µ–ª—å: x${minesGame.multiplier.toFixed(2)}`;
            }
        }

        function cashoutMines() {
            if(!minesGame.active) return;
            
            const win = Math.floor(minesGame.bet * minesGame.multiplier * 0.98);
            coins += win;
            alert(`+${win} ≈†KP (–∫–æ–º–∏—Å—Å–∏—è 2%) üéâ`);
            closeMines();
            updateCoins();
        }

        function closeMines() {
            minesGame.active = false;
            document.getElementById('minesModal').style.display = 'none';
        }

        // ================ –ë–õ–≠–ö–î–ñ–ï–ö ================
        let bjGameActive = false;
        let playerHand = [];
        let dealerHand = [];

        function startBlackjack() {
            if (coins < 30) {
                alert("–ù—É–∂–Ω–æ 30 ≈†KP!");
                return;
            }
            coins -= 30;
            updateCoins();
            
            playerHand = [getRandomCard(), getRandomCard()];
            dealerHand = [getRandomCard(), getRandomCard()];
            bjGameActive = true;
            
            document.getElementById('bjDealer').textContent = `–î–∏–ª–µ—Ä: ${dealerHand[0]} ?`;
            document.getElementById('bjPlayer').textContent = `–í—ã: ${playerHand.join(' ')}`;
            document.getElementById('bjResult').textContent = '';
        }

        function getRandomCard() {
            const cards = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
            return cards[Math.floor(Math.random() * cards.length)];
        }

        function calculateHand(hand) {
            let sum = 0;
            let aces = 0;
            for (const card of hand) {
                if (card === 'A') {
                    aces++;
                    sum += 11;
                } else sum += isNaN(card) ? 10 : parseInt(card);
            }
            while (sum > 21 && aces > 0) {
                sum -= 10;
                aces--;
            }
            return sum;
        }

        function bjHit() {
            if (!bjGameActive) return;
            playerHand.push(getRandomCard());
            const sum = calculateHand(playerHand);
            document.getElementById('bjPlayer').textContent = `–í—ã: ${playerHand.join(' ')} (${sum})`;
            if (sum > 21) endGame("–ü–µ—Ä–µ–±–æ—Ä! üíÄ");
        }

        function bjStand() {
            if (!bjGameActive) return;
            let dealerSum = calculateHand(dealerHand);
            while (dealerSum < 17) {
                dealerHand.push(getRandomCard());
                dealerSum = calculateHand(dealerHand);
            }
            const playerSum = calculateHand(playerHand);
            
            let result;
            if (playerSum > 21) result = "–ü—Ä–æ–∏–≥—Ä—ã—à!";
            else if (dealerSum > 21 || playerSum > dealerSum) {
                coins += 60;
                result = "–ü–æ–±–µ–¥–∞! +60 ≈†KP üèÜ";
            } else if (playerSum === dealerSum) {
                coins += 30;
                result = "–ù–∏—á—å—è ü§ù";
            } else result = "–î–∏–ª–µ—Ä –≤—ã–∏–≥—Ä–∞–ª üòà";
            
            endGame(result);
        }

        function endGame(message) {
            document.getElementById('bjDealer').textContent = `–î–∏–ª–µ—Ä: ${dealerHand.join(' ')} (${calculateHand(dealerHand)})`;
            document.getElementById('bjResult').textContent = message;
            bjGameActive = false;
            updateCoins();
        }
    </script>
</body>
<footer>
    <p>üö´ –≠—Ç–æ –Ω–µ –æ–Ω–ª–∞–π–Ω-–∫–∞–∑–∏–Ω–æ! –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö –¥–ª—è –†–ì–£–¢–ò–°.</p>
    <p>–ê–≤—Ç–æ—Ä—ã: <a href="https://t.me/forekses" target="_blank">@forekses</a> –∏ 
                <a href="https://t.me/MistyMurasaki" target="_blank">@MistyMurasaki</a></p>
    <p>–®–∫–∏–ø–∏–¥–æ–ª–ª–∞—Ä—ã (≈†KP) –Ω–µ –∏–º–µ—é—Ç —Ü–µ–Ω–Ω–æ—Å—Ç–∏. 18+</p>
</footer>
</html>
